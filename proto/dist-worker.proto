syntax = "proto3";

package dist_worker;

option go_package = "pb/";

enum Language {
    nodejs = 0;
    ruby = 1;
    python = 2;
    cpp = 3;
}

message Submission {
    Language language = 1;
    string code = 2;
    uint64 id = 3;
}

enum JudgeInfo {
    ac = 0;
    wa = 1;
    ce = 2;
    re = 3;
    mle = 4;
}

message JudgeResult {
    JudgeInfo result_code = 1;
    Submission submission = 2;
}

service JudgeService {
    rpc Submit (Submission) returns (JudgeResult) {}
}
